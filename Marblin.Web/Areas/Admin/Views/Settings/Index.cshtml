@model Marblin.Core.Entities.SiteSettings
@{
    ViewData["Title"] = "Settings";
}

<div class="d-flex flex-column flex-sm-row justify-content-between align-items-sm-center mb-5 gap-3">
    <h1 class="h2 admin-font-serif mb-0 text-dark">Site Configuration</h1>
    <span class="text-secondary small text-uppercase ls-1">Global Parameters</span>
</div>

@if (TempData["Success"] != null)
{
    <div class="alert badge-luxury w-100 mb-4 py-3 border-dark-10 text-dark d-flex justify-content-between align-items-center" role="alert">
        <span><i class="bi bi-check2-circle me-2 text-success"></i> @TempData["Success"]</span>
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
}

<form asp-action="Index" method="post" enctype="multipart/form-data">
    <input type="hidden" asp-for="Id" />

    <div class="row g-5">
        <!-- Fiscal & Payment Settings -->
        <div class="col-12 col-xl-5">
            <div class="admin-luxury-card h-100">
                <h5 class="admin-font-serif mb-4 text-secondary small text-uppercase ls-1">Fiscal Parameters</h5>

                <div class="mb-5">
                    <label asp-for="DepositPercentage" class="form-label-luxury">Acquisition Deposit (%)</label>
                    <div class="input-group" style="max-width: 250px;">
                        <input asp-for="DepositPercentage" class="form-control form-luxury" type="number" step="1" min="0" max="100" />
                        <span class="input-group-text bg-transparent border-0 border-bottom border-light text-secondary">%</span>
                    </div>
                    <div class="text-muted small mt-2" style="font-size: 0.7rem; font-weight: 600;">CLIENTS WILL COMMIT THIS VALUATION PERCENTAGE AT CHECKOUT</div>
                </div>

                <div class="mb-4">
                    <label asp-for="InstapayAccount" class="form-label-luxury">Instapay Account</label>
                    <input asp-for="InstapayAccount" class="form-control form-luxury" placeholder="Enter handle or number" />
                </div>

                <div class="mb-4">
                    <label asp-for="VodafoneCashNumber" class="form-label-luxury">Vodafone Cash Registry</label>
                    <input asp-for="VodafoneCashNumber" class="form-control form-luxury" placeholder="Enter linked number" />
                </div>

                <div class="pt-5 mt-auto border-top border-light">
                    <button type="submit" class="btn-luxury-outline w-100 justify-content-center py-3">
                        <i class="bi bi-shield-check"></i> Commit Global Settings
                    </button>
                </div>
            </div>
        </div>

        <!-- Visual & Content Curation -->
        <div class="col-12 col-xl-7">
            <div class="admin-luxury-card mb-4">
                <h5 class="admin-font-serif mb-4 text-secondary small text-uppercase ls-1">Hero Exhibition</h5>
                <div class="row g-4 mb-4">
                    <div class="col-12 col-md-6">
                        <label asp-for="HeroHeadline" class="form-label-luxury">Primary Headline</label>
                        <input asp-for="HeroHeadline" class="form-control form-luxury" />
                    </div>
                    <div class="col-12 col-md-6">
                        <label asp-for="HeroSubheadline" class="form-label-luxury">Secondary Statement</label>
                        <input asp-for="HeroSubheadline" class="form-control form-luxury" />
                    </div>
                </div>
                <div class="mb-4">
                    <label class="form-label-luxury mb-3">Hero Visual Exhibit</label>
                    @if (!string.IsNullOrEmpty(Model.HeroImageUrl))
                    {
                        <div class="mb-3 border border-light p-1 bg-light" style="max-width: 300px;">
                            <img src="@Model.HeroImageUrl" alt="Current Hero" class="img-fluid" />
                        </div>
                    }
                    <input type="file" name="heroImage" class="form-control form-luxury pb-2" accept="image/*" />
                    <div class="text-muted small mt-2" style="font-size: 0.7rem; font-weight: 600;">OPTIMIZED FOR 1920X1080 LANDSCAPE RATIO</div>
                </div>
            </div>

            <div class="admin-luxury-card mb-4">
                <h5 class="admin-font-serif mb-4 text-secondary small text-uppercase ls-1">Special Edition Feature</h5>
                <div class="row g-4 mb-4">
                    <div class="col-12">
                        <label asp-for="FeatureHeadline" class="form-label-luxury">Feature Headline</label>
                        <input asp-for="FeatureHeadline" class="form-control form-luxury" />
                    </div>
                    <div class="col-12">
                        <label asp-for="FeatureBody" class="form-label-luxury">Feature Narrative</label>
                        <textarea asp-for="FeatureBody" class="form-control form-luxury" rows="3"></textarea>
                    </div>
                </div>
                <div class="mb-4">
                    <label class="form-label-luxury mb-3">Feature Visual</label>
                    @if (!string.IsNullOrEmpty(Model.FeatureImageUrl))
                    {
                        <div class="mb-3 border border-light p-1 bg-light" style="max-width: 300px;">
                            <img src="@Model.FeatureImageUrl" alt="Current Feature" class="img-fluid" />
                        </div>
                    }
                    <input type="file" name="featureImage" class="form-control form-luxury pb-2" accept="image/*" />
                </div>
                <div class="row g-4">
                    <div class="col-12 col-md-6">
                        <label asp-for="FeatureButtonText" class="form-label-luxury">Call to Action Label</label>
                        <input asp-for="FeatureButtonText" class="form-control form-luxury" placeholder="Leave blank to omit button" />
                    </div>
                    <div class="col-12 col-md-6">
                        <label asp-for="FeatureButtonUrl" class="form-label-luxury">Action Destination (URL)</label>
                        <input asp-for="FeatureButtonUrl" class="form-control form-luxury" />
                    </div>
                </div>
            </div>

            <div class="admin-luxury-card mb-0">
                <h5 class="admin-font-serif mb-4 text-secondary small text-uppercase ls-1">Artisan Philosophies</h5>
                <div class="row g-4">
                    <div class="col-12 col-md-6">
                        <label asp-for="ValueStatements" class="form-label-luxury">Curation Statements</label>
                        <textarea asp-for="ValueStatements" class="form-control form-luxury" rows="5" placeholder="Document one philosophy per line..."></textarea>
                    </div>
                    <div class="col-12 col-md-6">
                        <label asp-for="ProcessSteps" class="form-label-luxury">Artisan Workflow Steps</label>
                        <textarea asp-for="ProcessSteps" class="form-control form-luxury" rows="5" placeholder="Document one workflow stage per line..."></textarea>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
